#include<stdio.h>

int main()
{
    long n,a[13][13],d[13][13],d1[13][13],d2[13][13],d3[31][13],t;
    scanf("%ld",&n);
    for(t=0;t<n;t++)
    {
        long i,j;
        for(i=1;i<=3;i++)
        {
            for(j=1;j<=4;j++)
            {
                scanf("%ld",&a[i][j]);
                if(j<4)
                {
                    d[i][j]=a[i][j];
                    d1[i][j]=a[i][j];
                    d2[i][j]=a[i][j];
                    d3[i][j]=a[i][j];
                }
            }
        }

        d1[1][1]=a[1][4],d2[1][2]=a[1][4],d3[1][3]=a[1][4];
        d1[2][1]=a[2][4],d2[2][2]=a[2][4],d3[2][3]=a[2][4];
        d1[3][1]=a[3][4],d2[3][2]=a[3][4],d3[3][3]=a[3][4];

        long det=(d[1][1]*((d[2][2]*d[3][3])-(d[2][3]*d[3][2])))-(d[1][2]*((d[2][1]*d[3][3])-(d[3][1]*d[2][3])))+(d[1][3]*((d[2][1]*d[3][2])-(d[3][1]*d[2][2])));
        long det1=(d1[1][1]*((d1[2][2]*d1[3][3])-(d1[2][3]*d1[3][2])))-(d1[1][2]*((d1[2][1]*d1[3][3])-(d1[3][1]*d1[2][3])))+(d1[1][3]*((d1[2][1]*d1[3][2])-(d1[3][1]*d1[2][2])));
        long det2=(d2[1][1]*((d2[2][2]*d2[3][3])-(d2[2][3]*d2[3][2])))-(d2[1][2]*((d2[2][1]*d2[3][3])-(d2[3][1]*d2[2][3])))+(d2[1][3]*((d2[2][1]*d2[3][2])-(d2[3][1]*d2[2][2])));
        long det3=(d3[1][1]*((d3[2][2]*d3[3][3])-(d3[2][3]*d3[3][2])))-(d3[1][2]*((d3[2][1]*d3[3][3])-(d3[3][1]*d3[2][3])))+(d3[1][3]*((d3[2][1]*d3[3][2])-(d3[3][1]*d3[2][2])));
        printf("%ld %ld %ld %ld\n",det1,det2,det3,det);
        if(det==0)
        {
            printf("No uniqe solution\n\n");
            continue;
        }
        else
        {
            double x1=(double)det1/(double)det;
            double x2=(double)det2/(double)det;
            double x3=(double)det3/(double)det;
            if(x1>-0.0005&&x1<0.0005)
            {
                x1=fabs(x1);
            }
            if(x2>-0.0005&&x2<0.0005)
            {
                x2=fabs(x2);
            }
            if(x3>-0.0005&&x3<0.0005)
            {
                x3=fabs(x3);
            }
            printf("Unique solution: %.3lf %.3lf %.3lf\n\n",x1,x2,x3);
        }
    }
    return 0;
}
